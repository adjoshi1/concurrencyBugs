{"model_name_or_path": "Llama-3.1-8B-Instruct__t-0.50__p-1.00__c-0.00___adjoshi1__concurrencyBugs-i5", "instance_id": "adjoshi1__concurrencyBugs-i5", "model_patch": "diff --git a/apache-45605/bug_prompt.c b/apache-45605/bug_prompt.c\nindex b2bdd9e..c9916e7 100644\n--- a/apache-45605/bug_prompt.c\n+++ b/apache-45605/bug_prompt.c\n@@ -17,7 +17,7 @@ void *listener_thread(void *arg) {\n \n         if (atomic_load(&idlers) == 0) {\n             pthread_mutex_lock(&idlers_mutex);\n-            if (atomic_load(&idlers) == 0) {\n+            while (atomic_load(&idlers) == 0) {\n                 pthread_cond_wait(&wait_for_idler, &idlers_mutex);\n             }\n             pthread_mutex_unlock(&idlers_mutex);\n@@ -42,11 +42,11 @@ void *worker_thread(void *arg) {\n \n         usleep(rand() % 100);\n \n+        pthread_mutex_lock(&idlers_mutex);\n         if (prev == 0) {\n-            pthread_mutex_lock(&idlers_mutex);\n             pthread_cond_signal(&wait_for_idler);\n-            pthread_mutex_unlock(&idlers_mutex);\n         }\n+        pthread_mutex_unlock(&idlers_mutex);\n     }\n     return NULL;\n }\n"}